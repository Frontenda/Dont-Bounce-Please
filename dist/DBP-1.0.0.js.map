{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 855d38cc5a6062dde622","webpack:///./src/core.js","webpack:///./src/techniques/index.js","webpack:///./src/techniques/blur.js","webpack:///./src/logger.js","webpack:///external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"$\"}","webpack:///./src/techniques/history.js","webpack:///./src/techniques/mouseout.js","webpack:///./~/js-cookie/src/js.cookie.js"],"names":["techniques","require","Cookie","initialize","options","knownMobile","undefined","userOptions","onBounce","isMobile","test","window","navigator","userAgent","state","disabled","count","getDefaultedOptions","defaultOptions","method","showPerPage","showPerUser","cookieName","distance","sensitivity","scrollDelay","onlySameReferrer","notSameReferrer","console","log","variables","Object","assign","wrapBounceFunction","bounceFunction","checkReferrer","anchorTag","document","createElement","href","referrer","host","location","readUserCount","get","incrementUserCount","set","bind","getCreationArguments","args","appliedTechniques","Array","isArray","forEach","technique","create","disable","enable","module","exports","blur","history","mouseout","logger","$","REFOCUS_INTERVAL","REFOCUS_TIMEOUT","BLURRY_TIMEOUT","BLURRABLE_ELEMENT","root","blurHiddenField","appendTo","canBlur","refocus","length","focus","setInterval","disallowBlurReference","blurCheckReference","mousedown","Date","clearTimeout","setTimeout","messages","HASH_SUFFIX","contaminatePriorState","object","bouncing","replaceState","title","pushState","replace","hash","hashchange","substr","NUMBER_OF_MOVEMENTS","timerReference","movements","fill","x","y","scrolling","mousemove","event","unshift","clientX","clientY","slice","from","relatedTarget","toElement","nodeName","scroll"],"mappings":"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","file":"DBP-1.0.0.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"DBP\", [\"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"DBP\"] = factory(require(\"jquery\"));\n\telse\n\t\troot[\"DBP\"] = factory(root[\"$\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 855d38cc5a6062dde622\n **/","const techniques = require('./techniques');\nconst Cookie = require('js-cookie');\n\n/*\n * options is either an object of options including an onBounce method, or it is a function to be run onBounce.\n * knownMobile, if specified, overrules our mobile check.\n */\nfunction initialize(options, knownMobile = undefined) {\n  const userOptions = (typeof options === 'function') ? { onBounce: options } : options;\n  const isMobile = (knownMobile !== undefined) ? knownMobile : /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent);\n  const state = {\n    disabled: false,\n    count: 0,\n  };\n\n  function getDefaultedOptions() {\n    const defaultOptions = {\n      method: 'auto', // the method used \"auto\", \"mouseout\", \"history\" or \"blur\".\n      showPerPage: 1, // the maximum number of times to trigger per page\n      showPerUser: undefined, // the maximum number of times to trigger per user (cookie based)\n      cookieName: 'dbp',\n\n      // mouseout detector settings\n      distance: 100, // minimum distance from the top the user must have exited the window to trigger.\n      sensitivity: 10, // minimum distance the mouse must have moved lately to trigger.\n      scrollDelay: 500, // ms to wait after scrolling before mouseout will register.\n\n      onlySameReferrer: false, // only show if the referrer is the same domain (user has been on site)\n      notSameReferrer: false, // only show if the referrer is not the same domain (user just came in)\n\n      onBounce: () => { console.log('bounce'); }, // The default onBounce handler\n    };\n\n    const variables = Object.assign({}, defaultOptions, userOptions);\n\n    function wrapBounceFunction(bounceFunction) {\n      function checkReferrer() {\n        const anchorTag = document.createElement('a');\n        anchorTag.href = document.referrer;\n        return document.referrer && anchorTag.host === window.location.host;\n      }\n\n      function readUserCount() {\n        return +Cookie.get(variables.cookieName);\n      }\n      function incrementUserCount() {\n        Cookie.set(variables.cookieName, readUserCount() + 1);\n      }\n\n\n      return (...args) => {\n        if (variables.onlySameReferrer && checkReferrer()) return;\n        if (variables.notSameReferrer && !checkReferrer()) return;\n\n        if (variables.showPerPage && state.count > variables.showPerPage) return;\n        if (variables.showPerUser && readUserCount() > variables.showPerUser) return;\n\n        if (state.disabled) return;\n\n        bounceFunction(...args);\n        state.count++;\n        incrementUserCount();\n      };\n    }\n\n    variables.onBounce = wrapBounceFunction(variables.onBounce.bind({}));\n    return variables;\n  }\n\n  function getCreationArguments(variables) {\n    return [window, document, variables];\n  }\n\n  const variables = getDefaultedOptions();\n  const args = getCreationArguments(variables);\n\n  let appliedTechniques = [];\n  if (variables.method === 'auto') appliedTechniques = isMobile ? ['blur', 'history'] : ['mouseout'];\n  else appliedTechniques = Array.isArray(variables.method) ? variables.method : [variables.method];\n\n  appliedTechniques.forEach((technique => {\n    techniques[technique].create(...args);\n  }));\n\n  return {\n    disable: () => {\n      state.disabled = true;\n    },\n    enable: () => {\n      state.disabled = false;\n    },\n    count: () => {\n      return state.count;\n    },\n  };\n}\n\nmodule.exports = initialize;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core.js\n **/","module.exports = {\n  blur: require('./blur'),\n  history: require('./history'),\n  mouseout: require('./mouseout'),\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/techniques/index.js\n **/","const logger = require('../logger');\n// eslint-disable-next-line id-length\nconst $ = require('jquery');\n\n // how freqeutly to check if something blurrable has focus\nconst REFOCUS_INTERVAL = 1000;\n\n// how long after click to wait to allow blur events again.\nconst REFOCUS_TIMEOUT = 150;\n\n// how long to wait for the click event to fire.\nconst BLURRY_TIMEOUT = 10;\n\n// the element to be created and pointed at when something non-blurrable is selected.\nconst BLURRABLE_ELEMENT = \"<a href='#' style='position:fixed; top:20px; left: -1000px;' />\";\n\nfunction create(root, document, variables) {\n  const blurHiddenField = $(BLURRABLE_ELEMENT).appendTo('body');\n  let canBlur = false;\n\n  function refocus() {\n    if (!$(':focus').length) {\n      blurHiddenField.focus();\n    }\n  }\n  setInterval(refocus, REFOCUS_INTERVAL);\n  refocus();\n\n  let disallowBlurReference = null;\n  let blurCheckReference = null;\n  $(document).mousedown(() => {\n    // any on page clicks, set a global state to false so we can't trigger the blur bounce.\n    // after the click, if an input is selected, then we're good. if it isn't, select it again.\n    logger(+new Date(), 'blur: allowing blur for', REFOCUS_TIMEOUT);\n    canBlur = true;\n    clearTimeout(disallowBlurReference);\n    disallowBlurReference = setTimeout(() => {\n      logger(+new Date(), 'blur: disallowing blur');\n      canBlur = false;\n      refocus();\n    }, REFOCUS_TIMEOUT);\n  });\n\n  $('*').blur(() => {\n    logger(+new Date(), 'blur: queuing a canBlur check in', BLURRY_TIMEOUT);\n    clearTimeout(blurCheckReference);\n    blurCheckReference = setTimeout(() => {\n      logger(+new Date(), 'blur: canBlur check', canBlur);\n      if (!canBlur) {\n        variables.onBounce('blur');\n      }\n    }, BLURRY_TIMEOUT);\n  });\n}\n\nmodule.exports = {\n  create,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/techniques/blur.js\n **/","module.exports = (...messages) => {\n  // console.log(...messages);\n  return messages;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/logger.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"$\"}\n ** module id = 4\n ** module chunks = 0\n **/","const logger = require('../logger');\nconst $ = require('jquery');\n\nconst HASH_SUFFIX = 'bht';\nfunction create(root, document, variables) {\n  function contaminatePriorState(object = { bouncing: true }) {\n    logger(+new Date(), 'contaminating state with', object);\n    root.history.replaceState(object, root.title);\n    root.history.pushState(null, root.title);\n  }\n\n  if ('replaceState' in root.history) {\n    // Populate a 'bouncing' state in the queue and immediately move us away from that state.\n    logger(+new Date(), 'history: replaceState mode');\n    contaminatePriorState();\n\n    // Handle popstate events\n    $(root).bind('popstate', () => {\n      logger(+new Date(), 'history: popState event caught with state', root.history.state);\n      if (root.history.state && root.history.state.bouncing) {\n        variables.onBounce('history');\n      }\n    });\n  } else if ('onhashchange' in root) {\n    // We don't support pushState, so instead use the hash in the URL.\n    logger(+new Date(), 'history: onhashchange mode');\n    root.location.replace(`#${HASH_SUFFIX}`);\n    root.location.hash = '';\n    $(root).hashchange(() => {\n      logger(+new Date(), 'history: hashChange event caught with state', root.location.hash);\n      if (root.location.hash.substr(HASH_SUFFIX.length * -1) === HASH_SUFFIX) {\n        variables.onBounce('history');\n      }\n    });\n  }\n}\n\nmodule.exports = {\n  create,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/techniques/history.js\n **/","const logger = require('../logger');\nconst $ = require('jquery');\n\n// the number of movements to track to measure sensitivity.\nconst NUMBER_OF_MOVEMENTS = 10;\n\nfunction create(root, document, variables) {\n  let timerReference = null;\n  let movements = Array(NUMBER_OF_MOVEMENTS).fill({ x: 0, y: 0 });\n  let scrolling = false;\n\n  $(document).mousemove((event) => {\n    // track the movements.\n    movements.unshift({\n      x: event.clientX,\n      y: event.clientY,\n    });\n\n    movements = movements.slice(0, NUMBER_OF_MOVEMENTS);\n  });\n\n  $(document).mouseout((event) => {\n    logger(+new Date(), 'mouseout: mouseout event fired, scrolling:', scrolling);\n\n    if (!scrolling) {\n      const from = event.relatedTarget || event.toElement;\n      logger(+new Date(), 'mouseout: client Y: ', event.clientY);\n\n      if (from && from.nodeName !== 'HTML') return; // not the root element\n      if (\n        event.clientY <= variables.distance &&\n        movements[NUMBER_OF_MOVEMENTS - 1].y - movements[0].y > variables.sensitivity\n      ) {\n        variables.onBounce('mouseout');\n      }\n    }\n  });\n\n  if (variables.scrollDelay) {\n    $(root).scroll(() => {\n      scrolling = true;\n      logger(+new Date(), 'mouseout: scroll delay activated');\n\n      clearTimeout(timerReference);\n      timerReference = setTimeout(() => {\n        logger(+new Date(), 'mouseout: scroll delay deactivated');\n        scrolling = false;\n      }, variables.scrollDelay);\n    });\n  }\n}\n\nmodule.exports = {\n  create,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/techniques/mouseout.js\n **/","/*!\n * JavaScript Cookie v2.1.3\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\treturn (document.cookie = [\n\t\t\t\t\tkey, '=', value,\n\t\t\t\t\tattributes.expires ? '; expires=' + attributes.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE\n\t\t\t\t\tattributes.path ? '; path=' + attributes.path : '',\n\t\t\t\t\tattributes.domain ? '; domain=' + attributes.domain : '',\n\t\t\t\t\tattributes.secure ? '; secure' : ''\n\t\t\t\t].join(''));\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/js-cookie/src/js.cookie.js\n ** module id = 7\n ** module chunks = 0\n **/"],"sourceRoot":""}